<!DOCTYPE html>

<html>

<head>
  <meta charset="UTF-8">
  <title>Draughts</title>
  <link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/public/css/bootstrap-overrides.css" />
  <link rel="stylesheet" type="text/css" href="/public/css/draughts.css" />
  <link rel="icon" type="image/png" href="/public/img/favicon.png">
</head>

<body>
  <div class="game-panel effect6">
    <div style="padding: 0 0 15px 50px">
      <a href="/">New game</a>
    </div>
    <table style="width: 100%;">
      <tr class="game-tr">
        <td class="fade-in">
          <canvas width="500px" height="500px" id="draughts-canvas" class="effect6 draughts-canvas">
            Your browser doesn't support
            <code>canvas</code>.
          </canvas>
        </td>
        <td class="players-td fade-in">
          <div class="effect6 players-panel">
            <div class="player player-black">
              <div class="player-label">
                <span id="black" class="glyphicon glyphicon-play glyphicon-turn"></span>
                <span id="turnBlack"></span>
              </div>
            </div>
            <div class="player player-white">
              <div class="player-label">
                <span id="white" class="glyphicon glyphicon-play glyphicon-turn"></span>
                <span id="turnWhite"></span>
              </div>
            </div>
          </div>
        </td>
      </tr>
      <!-- TODO bootstrap alert? +RETHINK +ADD_FEATURE -->
      <tr class="game-not-found-tr">
        <td style="padding: 0; text-align: center">
          <div class="game-not-found">
            It seems that the game you're trying to join, <u>does not exist any more</u>,
            <u>the token you use is invalid</u> or <u>the game is already occupied.</u>
            <br/> Would you like to search for a new game?
          </div>
          <a class="btn new-game-button" href="/">FIND NEW GAME</a>
        </td>
        <td></td>
      </tr>
    </table>

    <!-- modal with username input -->
    <div class="modal fade" id="joinGameModal" tabindex="-1" role="dialog"
    aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Start a new game...</h4>
          </div>
          <div class="modal-body modal-center">
            <form role="form" class="form-inline">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-addon">
                    <span class="glyphicon glyphicon-user"></span>
                  </div>
                  <input class="form-control" id="usernameInput" type="text"
                  placeholder="Your username" style="min-width: 300px;">
                </div>
              </div>
            </form>
            <button id="joinGameButton" class="btn new-game-button" href="/">JOIN GAME</button>
          </div>
        </div>
      </div>
    </div>

    <!-- modal shown when waiting for the second player to join -->
    <div class="modal fade" id="waitingForOtherPlayerModal" tabindex="-1" role="dialog"
    aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Waiting for an opponent...</h4>
          </div>
          <div class="modal-body modal-center">
            <div id="waitModalBody" style="padding-top: 20px;">
              <span id="waitModalBodySpan">Please, hang tight while we're waiting for your opponent...</span>
              <span class="glyphicon glyphicon-status glyphicon-refresh glyphicon-refresh-animate"></span>
            </div>
            <!-- TODO show name of the user who just connected +ADD_FEATURE -->
            <div id="enjoyModalBody" style="display: none; padding-top: 20px;">
              <u>The second player just joined!</u>
              <div id="opponentUsername" class="opponent-name"></div>
              <div>You play with
                <span id="yourColor" class="color-label"></span>
              </div>
              <br />Enjoy the game!
              <span class="glyphicon glyphicon-status glyphicon-ok" style="color: #52b43e"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/bower_components/jquery/dist/jquery.min.js"></script>
  <script src="/bower_components/fabric/dist/fabric.js"></script>
  <script src="/bower_components/color-js/color.js"></script>
  <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="/public/js/polyfills.js"></script>

  <script src="/public/js/websocket.js"></script>
  <script src="/public/js/url-manager.js"></script>
  <script src="/public/js/man.js"></script>
  <script src="/public/js/man-black.js"></script>
  <script src="/public/js/man-white.js"></script>
  <script src="/public/js/tile.js"></script>
  <script src="/public/js/board.js"></script>
  <script src="/public/js/draughts.js"></script>

</body>

</html>
